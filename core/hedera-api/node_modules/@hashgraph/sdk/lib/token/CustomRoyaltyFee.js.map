{"version":3,"file":"CustomRoyaltyFee.js","sources":["../../src/token/CustomRoyaltyFee.js"],"sourcesContent":["// SPDX-License-Identifier: Apache-2.0\n\nimport CustomFee from \"./CustomFee.js\";\nimport AccountId from \"../account/AccountId.js\";\nimport Long from \"long\";\nimport CustomFixedFee from \"./CustomFixedFee.js\";\n\n/**\n * @namespace proto\n * @typedef {import(\"@hashgraph/proto\").proto.IFraction} HieroProto.proto.IFraction\n * @typedef {import(\"@hashgraph/proto\").proto.IRoyaltyFee} HieroProto.proto.IRoyaltyFee\n * @typedef {import(\"@hashgraph/proto\").proto.ICustomFee} HieroProto.proto.ICustomFee\n * @typedef {import(\"@hashgraph/proto\").proto.IFixedFee} HieroProto.proto.IFixedFee\n */\n\nexport default class CustomRoyalyFee extends CustomFee {\n    /**\n     * @param {object} props\n     * @param {AccountId | string} [props.feeCollectorAccountId]\n     * @param {boolean} [props.allCollectorsAreExempt]\n     * @param {Long | number} [props.numerator]\n     * @param {Long | number} [props.denominator]\n     * @param {CustomFixedFee} [props.fallbackFee]\n     */\n    constructor(props = {}) {\n        super(props);\n\n        /**\n         * @type {?CustomFixedFee}\n         */\n        this._fallbackFee = null;\n\n        if (props.fallbackFee != null) {\n            this.setFallbackFee(props.fallbackFee);\n        }\n\n        /**\n         * @type {?Long}\n         */\n        this._numerator = null;\n\n        if (props.numerator != null) {\n            this.setNumerator(props.numerator);\n        }\n\n        /**\n         * @type {?Long}\n         */\n        this._denominator = null;\n\n        if (props.denominator != null) {\n            this.setDenominator(props.denominator);\n        }\n    }\n\n    /**\n     * @returns {?CustomFixedFee}\n     */\n    get fallbackFee() {\n        return this._fallbackFee;\n    }\n\n    /**\n     * @param {CustomFixedFee} fallbackFee\n     * @returns {CustomRoyalyFee}\n     */\n    setFallbackFee(fallbackFee) {\n        this._fallbackFee = fallbackFee;\n        return this;\n    }\n\n    /**\n     * @returns {?Long}\n     */\n    get numerator() {\n        return this._numerator;\n    }\n\n    /**\n     * @param {Long | number} numerator\n     * @returns {CustomRoyalyFee}\n     */\n    setNumerator(numerator) {\n        this._numerator =\n            typeof numerator === \"number\"\n                ? Long.fromNumber(numerator)\n                : numerator;\n        return this;\n    }\n\n    /**\n     * @returns {?Long}\n     */\n    get denominator() {\n        return this._denominator;\n    }\n\n    /**\n     * @param {Long | number} denominator\n     * @returns {CustomRoyalyFee}\n     */\n    setDenominator(denominator) {\n        this._denominator =\n            typeof denominator === \"number\"\n                ? Long.fromNumber(denominator)\n                : denominator;\n        return this;\n    }\n\n    /**\n     * @internal\n     * @override\n     * @param {HieroProto.proto.ICustomFee} info\n     * @returns {CustomFee}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    static _fromProtobuf(info) {\n        const fee = /** @type {HieroProto.proto.IRoyaltyFee} */ (\n            info.royaltyFee\n        );\n        const fraction = /** @type {HieroProto.proto.IFraction} */ (\n            fee.exchangeValueFraction\n        );\n\n        return new CustomRoyalyFee({\n            feeCollectorAccountId:\n                info.feeCollectorAccountId != null\n                    ? AccountId._fromProtobuf(info.feeCollectorAccountId)\n                    : undefined,\n            allCollectorsAreExempt:\n                info.allCollectorsAreExempt != null\n                    ? info.allCollectorsAreExempt\n                    : undefined,\n            fallbackFee:\n                fee.fallbackFee != null\n                    ? /** @type {CustomFixedFee} */ (\n                          CustomFixedFee._fromProtobuf({\n                              fixedFee: fee.fallbackFee,\n                          })\n                      )\n                    : undefined,\n            numerator:\n                fraction.numerator != null ? fraction.numerator : undefined,\n            denominator:\n                fraction.denominator != null ? fraction.denominator : undefined,\n        });\n    }\n\n    /**\n     * @internal\n     * @abstract\n     * @returns {HieroProto.proto.ICustomFee}\n     */\n    _toProtobuf() {\n        return {\n            feeCollectorAccountId:\n                this.feeCollectorAccountId != null\n                    ? this.feeCollectorAccountId._toProtobuf()\n                    : null,\n            allCollectorsAreExempt: this.allCollectorsAreExempt,\n            royaltyFee: {\n                exchangeValueFraction: {\n                    numerator: this._numerator,\n                    denominator: this._denominator,\n                },\n                fallbackFee:\n                    this._fallbackFee != null\n                        ? this._fallbackFee._toProtobuf().fixedFee\n                        : null,\n            },\n        };\n    }\n}\n"],"names":["CustomRoyalyFee","CustomFee","constructor","props","super","this","_fallbackFee","fallbackFee","setFallbackFee","_numerator","numerator","setNumerator","_denominator","denominator","setDenominator","Long","fromNumber","_fromProtobuf","info","fee","fraction","feeCollectorAccountId","AccountId","undefined","allCollectorsAreExempt","CustomFixedFee","fixedFee","_toProtobuf","royaltyFee","exchangeValueFraction"],"mappings":"4HAee,MAAMA,UAAwBC,EASzC,WAAAC,CAAYC,EAAQ,IAChBC,MAAMD,GAKNE,KAAKC,aAAe,KAEK,MAArBH,EAAMI,aACNF,KAAKG,eAAeL,EAAMI,aAM9BF,KAAKI,WAAa,KAEK,MAAnBN,EAAMO,WACNL,KAAKM,aAAaR,EAAMO,WAM5BL,KAAKO,aAAe,KAEK,MAArBT,EAAMU,aACNR,KAAKS,eAAeX,EAAMU,YAEtC,CAKI,eAAIN,GACA,OAAOF,KAAKC,YACpB,CAMI,cAAAE,CAAeD,GAEX,OADAF,KAAKC,aAAeC,EACbF,IACf,CAKI,aAAIK,GACA,OAAOL,KAAKI,UACpB,CAMI,YAAAE,CAAaD,GAKT,OAJAL,KAAKI,WACoB,iBAAdC,EACDK,EAAKC,WAAWN,GAChBA,EACHL,IACf,CAKI,eAAIQ,GACA,OAAOR,KAAKO,YACpB,CAMI,cAAAE,CAAeD,GAKX,OAJAR,KAAKO,aACsB,iBAAhBC,EACDE,EAAKC,WAAWH,GAChBA,EACHR,IACf,CASI,oBAAOY,CAAcC,GACjB,MAAMC,EACFD,EACH,WACKE,EACFD,EACH,sBAED,OAAO,IAAInB,EAAgB,CACvBqB,sBACkC,MAA9BH,EAAKG,sBACCC,EAAUL,cAAcC,EAAKG,4BAC7BE,EACVC,uBACmC,MAA/BN,EAAKM,uBACCN,EAAKM,4BACLD,EACVhB,YACuB,MAAnBY,EAAIZ,YAEMkB,EAAeR,cAAc,CACzBS,SAAUP,EAAIZ,mBAGtBgB,EACVb,UAC0B,MAAtBU,EAASV,UAAoBU,EAASV,eAAYa,EACtDV,YAC4B,MAAxBO,EAASP,YAAsBO,EAASP,iBAAcU,GAEtE,CAOI,WAAAI,GACI,MAAO,CACHN,sBACkC,MAA9BhB,KAAKgB,sBACChB,KAAKgB,sBAAsBM,cAC3B,KACVH,uBAAwBnB,KAAKmB,uBAC7BI,WAAY,CACRC,sBAAuB,CACnBnB,UAAWL,KAAKI,WAChBI,YAAaR,KAAKO,cAEtBL,YACyB,MAArBF,KAAKC,aACCD,KAAKC,aAAaqB,cAAcD,SAChC,MAG1B"}