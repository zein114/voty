{"version":3,"file":"MirrorNodeContractEstimateQuery.js","sources":["../../src/query/MirrorNodeContractEstimateQuery.js"],"sourcesContent":["import MirrorNodeContractQuery from \"./MirrorNodeContractQuery.js\";\nimport * as hex from \"../encoding/hex.js\";\n/**\n * @typedef {import(\"../channel/Channel.js\").default} Channel\n * @typedef {import(\"../client/Client.js\").default<*, *>} Client\n */\n\n/**\n * A query that estimates the gas required for a contract function call using the Hedera Mirror Node.\n *\n * This query simulates a contract call to estimate the amount of gas that would be required\n * to execute the same call on the main network. It's useful for determining the appropriate\n * gas limit before submitting an actual transaction.\n */\nexport default class MirrorNodeContractEstimateQuery extends MirrorNodeContractQuery {\n    /**\n     * @returns {object}\n     */\n    get JSONPayload() {\n        if (this.callData == null) {\n            throw new Error(\"Call data is required.\");\n        }\n\n        return {\n            data: hex.encode(this.callData),\n            from: this.senderEvmAddress,\n            to: this.contractEvmAddress,\n            estimate: true,\n            gasPrice: this.gasPrice?.toString(),\n            gas: this.gasLimit?.toString(),\n            blockNumber: this.blockNumber?.toString(),\n            value: this.value?.toString(),\n        };\n    }\n\n    /**\n     * @param {Client} client\n     * @returns {Promise<number>}\n     */\n    async execute(client) {\n        const mirrorNodeRequest = await this.performMirrorNodeRequest(\n            client,\n            this.JSONPayload,\n        );\n\n        return Number(mirrorNodeRequest.result);\n    }\n}\n"],"names":["MirrorNodeContractEstimateQuery","MirrorNodeContractQuery","JSONPayload","this","callData","Error","data","hex.encode","from","senderEvmAddress","to","contractEvmAddress","estimate","gasPrice","toString","gas","gasLimit","blockNumber","value","execute","client","mirrorNodeRequest","performMirrorNodeRequest","Number","result"],"mappings":"wFAce,MAAMA,UAAwCC,EAIzD,eAAIC,GACA,GAAqB,MAAjBC,KAAKC,SACL,MAAM,IAAIC,MAAM,0BAGpB,MAAO,CACHC,KAAMC,EAAWJ,KAAKC,UACtBI,KAAML,KAAKM,iBACXC,GAAIP,KAAKQ,mBACTC,UAAU,EACVC,SAAUV,KAAKU,UAAUC,WACzBC,IAAKZ,KAAKa,UAAUF,WACpBG,YAAad,KAAKc,aAAaH,WAC/BI,MAAOf,KAAKe,OAAOJ,WAE/B,CAMI,aAAMK,CAAQC,GACV,MAAMC,QAA0BlB,KAAKmB,yBACjCF,EACAjB,KAAKD,aAGT,OAAOqB,OAAOF,EAAkBG,OACxC"}