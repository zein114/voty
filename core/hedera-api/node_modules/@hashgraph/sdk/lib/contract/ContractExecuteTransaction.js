import t from"../Hbar.js";import r,{TRANSACTION_REGISTRY as n}from"../transaction/Transaction.js";import a from"./ContractId.js";import o from"./ContractFunctionParameters.js";import s from"long";import e from"../HbarUnit.js";class i extends r{constructor(t={}){super(),this._contractId=null,this._gas=null,this._amount=null,this._functionParameters=null,null!=t.contractId&&this.setContractId(t.contractId),null!=t.gas&&this.setGas(t.gas),null!=t.amount&&this.setPayableAmount(t.amount),null!=t.functionParameters?this.setFunctionParameters(t.functionParameters):null!=t.function&&this.setFunction(t.function.name,t.function.parameters)}static _fromProtobuf(n,o,s,e,u){const c=u[0].contractCall;return r._fromProtobufTransactions(new i({contractId:null!=c.contractID?a._fromProtobuf(c.contractID):void 0,gas:null!=c.gas?c.gas:void 0,amount:null!=c.amount?t.fromTinybars(c.amount):void 0,functionParameters:null!=c.functionParameters?c.functionParameters:void 0}),n,o,s,e,u)}get contractId(){return this._contractId}setContractId(t){return this._requireNotFrozen(),this._contractId="string"==typeof t?a.fromString(t):t.clone(),this}get gas(){return this._gas}setGas(t){this._requireNotFrozen();const r=t instanceof s?t:s.fromValue(t);if(r.lt(0))throw new Error("Gas must be greater than 0");return this._gas=r,this}get payableAmount(){return this._amount}setPayableAmount(r,n=e.Hbar){return this._requireNotFrozen(),this._amount=r instanceof t?r:t.from(r,n),this}get functionParameters(){return this._functionParameters}setFunctionParameters(t){return this._requireNotFrozen(),this._functionParameters=t,this}setFunction(t,r){return this._requireNotFrozen(),this._functionParameters=null!=r?r._build(t):(new o)._build(t),this}_validateChecksums(t){null!=this._contractId&&this._contractId.validateChecksum(t)}_execute(t,r){return t.smartContract.contractCallMethod(r)}_getTransactionDataCase(){return"contractCall"}_makeTransactionData(){return{contractID:null!=this._contractId?this._contractId._toProtobuf():null,gas:this._gas,amount:null!=this._amount?this._amount.toTinybars():null,functionParameters:this._functionParameters}}_getLogId(){return`ContractExecuteTransaction:${this._transactionIds.current.validStart.toString()}`}}n.set("contractCall",i._fromProtobuf);export{i as default};
//# sourceMappingURL=ContractExecuteTransaction.js.map
