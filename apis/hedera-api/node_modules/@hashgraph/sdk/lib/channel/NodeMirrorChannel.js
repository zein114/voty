import*as e from"@grpc/grpc-js";import r from"./MirrorChannel.js";class t extends r{constructor(r){super(),this._client=new e.Client(r,r.endsWith(":50212")||r.endsWith(":443")?e.credentials.createSsl():e.credentials.createInsecure(),{"grpc.keepalive_time_ms":9e4,"grpc.keepalive_timeout_ms":5e3})}close(){this._client.close()}makeServerStreamRequest(e,r,t,s,c,o){const a=this._client.makeServerStreamRequest(`/com.hedera.mirror.api.proto.${e}/${r}`,e=>e,e=>e,Buffer.from(t)).on("data",e=>{s(e)}).on("status",e=>{0==e.code&&o()}).on("error",e=>{c(e)});return()=>{a.cancel()}}}export{t as default};
//# sourceMappingURL=NodeMirrorChannel.js.map
