{"version":3,"file":"CustomFractionalFee.js","sources":["../../src/token/CustomFractionalFee.js"],"sourcesContent":["// SPDX-License-Identifier: Apache-2.0\n\nimport CustomFee from \"./CustomFee.js\";\nimport AccountId from \"../account/AccountId.js\";\nimport FeeAssessmentMethod from \"./FeeAssessmentMethod.js\";\nimport Long from \"long\";\n\n/**\n * @namespace proto\n * @typedef {import(\"@hashgraph/proto\").proto.ICustomFee} HieroProto.proto.ICustomFee\n * @typedef {import(\"@hashgraph/proto\").proto.IFractionalFee} HieroProto.proto.IFractionalFee\n * @typedef {import(\"@hashgraph/proto\").proto.IFraction} HieroProto.proto.IFraction\n */\n\nexport default class CustomFractionalFee extends CustomFee {\n    /**\n     * @param {object} props\n     * @param {AccountId | string} [props.feeCollectorAccountId]\n     * @param {boolean} [props.allCollectorsAreExempt]\n     * @param {Long | number} [props.numerator]\n     * @param {Long | number} [props.denominator]\n     * @param {Long | number} [props.min]\n     * @param {Long | number} [props.max]\n     * @param {FeeAssessmentMethod} [props.assessmentMethod]\n     */\n    constructor(props = {}) {\n        super(props);\n\n        /**\n         * @type {?Long}\n         */\n        this._numerator = null;\n\n        if (props.numerator != null) {\n            this.setNumerator(props.numerator);\n        }\n\n        /**\n         * @type {?Long}\n         */\n        this._denominator = null;\n\n        if (props.denominator != null) {\n            this.setDenominator(props.denominator);\n        }\n\n        /**\n         * @type {?Long}\n         */\n        this._min = null;\n\n        if (props.min != null) {\n            this.setMin(props.min);\n        }\n\n        /**\n         * @type {?Long}\n         */\n        this._max;\n\n        if (props.max != null) {\n            this.setMax(props.max);\n        }\n\n        /**\n         * @type {?FeeAssessmentMethod}\n         */\n        this._assessmentMethod;\n\n        if (props.assessmentMethod != null) {\n            this.setAssessmentMethod(props.assessmentMethod);\n        }\n    }\n\n    /**\n     * @returns {?Long}\n     */\n    get numerator() {\n        return this._numerator;\n    }\n\n    /**\n     * @param {Long | number} numerator\n     * @returns {CustomFractionalFee}\n     */\n    setNumerator(numerator) {\n        this._numerator =\n            typeof numerator === \"number\"\n                ? Long.fromNumber(numerator)\n                : numerator;\n        return this;\n    }\n\n    /**\n     * @returns {?Long}\n     */\n    get denominator() {\n        return this._denominator;\n    }\n\n    /**\n     * @param {Long | number} denominator\n     * @returns {CustomFractionalFee}\n     */\n    setDenominator(denominator) {\n        this._denominator =\n            typeof denominator === \"number\"\n                ? Long.fromNumber(denominator)\n                : denominator;\n        return this;\n    }\n\n    /**\n     * @returns {?Long}\n     */\n    get min() {\n        return this._min;\n    }\n\n    /**\n     * @param {Long | number} min\n     * @returns {CustomFractionalFee}\n     */\n    setMin(min) {\n        this._min = typeof min === \"number\" ? Long.fromNumber(min) : min;\n        return this;\n    }\n\n    /**\n     * @returns {?Long}\n     */\n    get max() {\n        return this._max;\n    }\n\n    /**\n     * @param {Long | number} max\n     * @returns {CustomFractionalFee}\n     */\n    setMax(max) {\n        this._max = typeof max === \"number\" ? Long.fromNumber(max) : max;\n        return this;\n    }\n\n    /**\n     * @returns {?FeeAssessmentMethod}\n     */\n    get assessmentMethod() {\n        return this._assessmentMethod;\n    }\n\n    /**\n     * @param {FeeAssessmentMethod} assessmentMethod\n     * @returns {CustomFractionalFee}\n     */\n    setAssessmentMethod(assessmentMethod) {\n        this._assessmentMethod = assessmentMethod;\n        return this;\n    }\n\n    /**\n     * @internal\n     * @override\n     * @param {HieroProto.proto.ICustomFee} info\n     * @returns {CustomFee}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    static _fromProtobuf(info) {\n        const fee = /** @type {HieroProto.proto.IFractionalFee} */ (\n            info.fractionalFee\n        );\n        const fractional = /** @type {HieroProto.proto.IFraction} */ (\n            fee.fractionalAmount\n        );\n\n        return new CustomFractionalFee({\n            feeCollectorAccountId:\n                info.feeCollectorAccountId != null\n                    ? AccountId._fromProtobuf(info.feeCollectorAccountId)\n                    : undefined,\n            allCollectorsAreExempt:\n                info.allCollectorsAreExempt != null\n                    ? info.allCollectorsAreExempt\n                    : undefined,\n            numerator:\n                fractional.numerator != null ? fractional.numerator : undefined,\n            denominator:\n                fractional.denominator != null\n                    ? fractional.denominator\n                    : undefined,\n            min: fee.minimumAmount != null ? fee.minimumAmount : undefined,\n            max: fee.maximumAmount != null ? fee.maximumAmount : undefined,\n            assessmentMethod:\n                fee.netOfTransfers != null\n                    ? new FeeAssessmentMethod(fee.netOfTransfers)\n                    : undefined,\n        });\n    }\n\n    /**\n     * @internal\n     * @abstract\n     * @returns {HieroProto.proto.ICustomFee}\n     */\n    _toProtobuf() {\n        return {\n            feeCollectorAccountId:\n                this.feeCollectorAccountId != null\n                    ? this.feeCollectorAccountId._toProtobuf()\n                    : null,\n            allCollectorsAreExempt: this.allCollectorsAreExempt,\n            fractionalFee: {\n                fractionalAmount: {\n                    numerator: this._numerator,\n                    denominator: this._denominator,\n                },\n                minimumAmount: this._min,\n                maximumAmount: this._max,\n                netOfTransfers:\n                    this._assessmentMethod != null\n                        ? this._assessmentMethod.valueOf()\n                        : false,\n            },\n        };\n    }\n}\n"],"names":["CustomFractionalFee","CustomFee","constructor","props","super","this","_numerator","numerator","setNumerator","_denominator","denominator","setDenominator","_min","min","setMin","_max","max","setMax","_assessmentMethod","assessmentMethod","setAssessmentMethod","Long","fromNumber","_fromProtobuf","info","fee","fractional","feeCollectorAccountId","AccountId","undefined","allCollectorsAreExempt","minimumAmount","maximumAmount","netOfTransfers","FeeAssessmentMethod","_toProtobuf","fractionalFee","fractionalAmount","valueOf"],"mappings":"iIAce,MAAMA,UAA4BC,EAW7C,WAAAC,CAAYC,EAAQ,IAChBC,MAAMD,GAKNE,KAAKC,WAAa,KAEK,MAAnBH,EAAMI,WACNF,KAAKG,aAAaL,EAAMI,WAM5BF,KAAKI,aAAe,KAEK,MAArBN,EAAMO,aACNL,KAAKM,eAAeR,EAAMO,aAM9BL,KAAKO,KAAO,KAEK,MAAbT,EAAMU,KACNR,KAAKS,OAAOX,EAAMU,KAMtBR,KAAKU,KAEY,MAAbZ,EAAMa,KACNX,KAAKY,OAAOd,EAAMa,KAMtBX,KAAKa,kBAEyB,MAA1Bf,EAAMgB,kBACNd,KAAKe,oBAAoBjB,EAAMgB,iBAE3C,CAKI,aAAIZ,GACA,OAAOF,KAAKC,UACpB,CAMI,YAAAE,CAAaD,GAKT,OAJAF,KAAKC,WACoB,iBAAdC,EACDc,EAAKC,WAAWf,GAChBA,EACHF,IACf,CAKI,eAAIK,GACA,OAAOL,KAAKI,YACpB,CAMI,cAAAE,CAAeD,GAKX,OAJAL,KAAKI,aACsB,iBAAhBC,EACDW,EAAKC,WAAWZ,GAChBA,EACHL,IACf,CAKI,OAAIQ,GACA,OAAOR,KAAKO,IACpB,CAMI,MAAAE,CAAOD,GAEH,OADAR,KAAKO,KAAsB,iBAARC,EAAmBQ,EAAKC,WAAWT,GAAOA,EACtDR,IACf,CAKI,OAAIW,GACA,OAAOX,KAAKU,IACpB,CAMI,MAAAE,CAAOD,GAEH,OADAX,KAAKU,KAAsB,iBAARC,EAAmBK,EAAKC,WAAWN,GAAOA,EACtDX,IACf,CAKI,oBAAIc,GACA,OAAOd,KAAKa,iBACpB,CAMI,mBAAAE,CAAoBD,GAEhB,OADAd,KAAKa,kBAAoBC,EAClBd,IACf,CASI,oBAAOkB,CAAcC,GACjB,MAAMC,EACFD,EACH,cACKE,EACFD,EACH,iBAED,OAAO,IAAIzB,EAAoB,CAC3B2B,sBACkC,MAA9BH,EAAKG,sBACCC,EAAUL,cAAcC,EAAKG,4BAC7BE,EACVC,uBACmC,MAA/BN,EAAKM,uBACCN,EAAKM,4BACLD,EACVtB,UAC4B,MAAxBmB,EAAWnB,UAAoBmB,EAAWnB,eAAYsB,EAC1DnB,YAC8B,MAA1BgB,EAAWhB,YACLgB,EAAWhB,iBACXmB,EACVhB,IAA0B,MAArBY,EAAIM,cAAwBN,EAAIM,mBAAgBF,EACrDb,IAA0B,MAArBS,EAAIO,cAAwBP,EAAIO,mBAAgBH,EACrDV,iBAC0B,MAAtBM,EAAIQ,eACE,IAAIC,EAAoBT,EAAIQ,qBAC5BJ,GAEtB,CAOI,WAAAM,GACI,MAAO,CACHR,sBACkC,MAA9BtB,KAAKsB,sBACCtB,KAAKsB,sBAAsBQ,cAC3B,KACVL,uBAAwBzB,KAAKyB,uBAC7BM,cAAe,CACXC,iBAAkB,CACd9B,UAAWF,KAAKC,WAChBI,YAAaL,KAAKI,cAEtBsB,cAAe1B,KAAKO,KACpBoB,cAAe3B,KAAKU,KACpBkB,eAC8B,MAA1B5B,KAAKa,mBACCb,KAAKa,kBAAkBoB,WAIjD"}