{"version":3,"file":"TokenUpdateTransaction.js","sources":["../../src/token/TokenUpdateTransaction.js"],"sourcesContent":["// SPDX-License-Identifier: Apache-2.0\n\nimport TokenId from \"./TokenId.js\";\nimport Transaction, {\n    TRANSACTION_REGISTRY,\n} from \"../transaction/Transaction.js\";\nimport AccountId from \"../account/AccountId.js\";\nimport Timestamp from \"../Timestamp.js\";\nimport Duration from \"../Duration.js\";\nimport Key from \"../Key.js\";\nimport TokenKeyValidation from \"./TokenKeyValidation.js\";\n\n/**\n * @namespace proto\n * @typedef {import(\"@hashgraph/proto\").proto.ITransaction} HieroProto.proto.ITransaction\n * @typedef {import(\"@hashgraph/proto\").proto.ISignedTransaction} HieroProto.proto.ISignedTransaction\n * @typedef {import(\"@hashgraph/proto\").proto.TransactionBody} HieroProto.proto.TransactionBody\n * @typedef {import(\"@hashgraph/proto\").proto.ITransactionBody} HieroProto.proto.ITransactionBody\n * @typedef {import(\"@hashgraph/proto\").proto.ITransactionResponse} HieroProto.proto.ITransactionResponse\n * @typedef {import(\"@hashgraph/proto\").proto.ITokenUpdateTransactionBody} HieroProto.proto.ITokenUpdateTransactionBody\n * @typedef {import(\"@hashgraph/proto\").proto.ITokenID} HieroProto.proto.ITokenID\n */\n\n/**\n * @typedef {import(\"bignumber.js\").default} BigNumber\n * @typedef {import(\"../channel/Channel.js\").default} Channel\n * @typedef {import(\"../client/Client.js\").default<*, *>} Client\n * @typedef {import(\"../transaction/TransactionId.js\").default} TransactionId\n */\n\n/**\n * Update a new Hederaâ„¢ crypto-currency token.\n */\nexport default class TokenUpdateTransaction extends Transaction {\n    /**\n     * @param {object} [props]\n     * @param {TokenId | string} [props.tokenId]\n     * @param {?string} [props.tokenName]\n     * @param {?string} [props.tokenSymbol]\n     * @param {AccountId | string} [props.treasuryAccountId]\n     * @param {Key} [props.adminKey]\n     * @param {Key} [props.kycKey]\n     * @param {Key} [props.freezeKey]\n     * @param {Key} [props.wipeKey]\n     * @param {Key} [props.supplyKey]\n     * @param {AccountId | string} [props.autoRenewAccountId]\n     * @param {Timestamp | Date} [props.expirationTime]\n     * @param {Duration | Long | number} [props.autoRenewPeriod]\n     * @param {?string} [props.tokenMemo]\n     * @param {Key} [props.feeScheduleKey]\n     * @param {Key} [props.pauseKey]\n     * @param {Key} [props.metadataKey]\n     * @param {?Uint8Array} [props.metadata]\n     * @param {TokenKeyValidation} [props.keyVerificationMode]\n     */\n    constructor(props = {}) {\n        super();\n\n        /**\n         * @private\n         * @type {?TokenId}\n         */\n        this._tokenId = null;\n\n        /**\n         * @private\n         * @type {?string}\n         */\n        this._tokenName = null;\n\n        /**\n         * @private\n         * @type {?string}\n         */\n        this._tokenSymbol = null;\n\n        /**\n         * @private\n         * @type {?AccountId}\n         */\n        this._treasuryAccountId = null;\n\n        /**\n         * @private\n         * @type {?Key}\n         */\n        this._adminKey = null;\n\n        /**\n         * @private\n         * @type {?Key}\n         */\n        this._kycKey = null;\n\n        /**\n         * @private\n         * @type {?Key}\n         */\n        this._freezeKey = null;\n\n        /**\n         * @private\n         * @type {?Key}\n         */\n        this._wipeKey = null;\n\n        /**\n         * @private\n         * @type {?Key}\n         */\n        this._supplyKey = null;\n\n        /**\n         * @private\n         * @type {?AccountId}\n         */\n        this._autoRenewAccountId = null;\n\n        /**\n         * @private\n         * @type {?Timestamp}\n         */\n        this._expirationTime = null;\n\n        /**\n         * @private\n         * @type {?Duration}\n         */\n        this._autoRenewPeriod = null;\n\n        /**\n         * @private\n         * @type {?string}\n         */\n        this._tokenMemo = null;\n\n        /**\n         * @private\n         * @type {?Key}\n         */\n        this._feeScheduleKey = null;\n\n        /**\n         * @private\n         * @type {?Key}\n         */\n        this._pauseKey = null;\n\n        /**\n         * @private\n         * @type {?Key}\n         */\n        this._metadataKey = null;\n\n        /**\n         * @private\n         * @type {?Uint8Array}\n         */\n        this._metadata = null;\n\n        /**\n         * @private\n         * @type {?TokenKeyValidation}\n         * Determines whether the system should check the validity of the passed keys for update.\n         * Defaults to FULL_VALIDATION\n         */\n        this._keyVerificationMode = TokenKeyValidation.FullValidation;\n\n        if (props.tokenId != null) {\n            this.setTokenId(props.tokenId);\n        }\n\n        if (props.tokenName != null) {\n            this.setTokenName(props.tokenName);\n        }\n\n        if (props.tokenSymbol != null) {\n            this.setTokenSymbol(props.tokenSymbol);\n        }\n\n        if (props.treasuryAccountId != null) {\n            this.setTreasuryAccountId(props.treasuryAccountId);\n        }\n\n        if (props.adminKey != null) {\n            this.setAdminKey(props.adminKey);\n        }\n\n        if (props.kycKey != null) {\n            this.setKycKey(props.kycKey);\n        }\n\n        if (props.freezeKey != null) {\n            this.setFreezeKey(props.freezeKey);\n        }\n\n        if (props.wipeKey != null) {\n            this.setWipeKey(props.wipeKey);\n        }\n\n        if (props.supplyKey != null) {\n            this.setSupplyKey(props.supplyKey);\n        }\n\n        if (props.autoRenewAccountId != null) {\n            this.setAutoRenewAccountId(props.autoRenewAccountId);\n        }\n\n        if (props.expirationTime != null) {\n            this.setExpirationTime(props.expirationTime);\n        }\n\n        if (props.autoRenewPeriod != null) {\n            this.setAutoRenewPeriod(props.autoRenewPeriod);\n        }\n\n        if (props.tokenMemo != null) {\n            this.setTokenMemo(props.tokenMemo);\n        }\n\n        if (props.feeScheduleKey != null) {\n            this.setFeeScheduleKey(props.feeScheduleKey);\n        }\n\n        if (props.pauseKey != null) {\n            this.setPauseKey(props.pauseKey);\n        }\n\n        if (props.metadataKey != null) {\n            this.setMetadataKey(props.metadataKey);\n        }\n\n        if (props.metadata != null) {\n            this.setMetadata(props.metadata);\n        }\n\n        if (props.keyVerificationMode != null) {\n            this.setKeyVerificationMode(props.keyVerificationMode);\n        }\n    }\n\n    /**\n     * @internal\n     * @param {HieroProto.proto.ITransaction[]} transactions\n     * @param {HieroProto.proto.ISignedTransaction[]} signedTransactions\n     * @param {TransactionId[]} transactionIds\n     * @param {AccountId[]} nodeIds\n     * @param {HieroProto.proto.ITransactionBody[]} bodies\n     * @returns {TokenUpdateTransaction}\n     */\n    static _fromProtobuf(\n        transactions,\n        signedTransactions,\n        transactionIds,\n        nodeIds,\n        bodies,\n    ) {\n        const body = bodies[0];\n        const update =\n            /** @type {HieroProto.proto.ITokenUpdateTransactionBody} */ (\n                body.tokenUpdate\n            );\n\n        return Transaction._fromProtobufTransactions(\n            new TokenUpdateTransaction({\n                tokenId:\n                    update.token != null\n                        ? TokenId._fromProtobuf(update.token)\n                        : undefined,\n                tokenName: Object.hasOwn(update, \"name\")\n                    ? update.name\n                    : undefined,\n                tokenSymbol: Object.hasOwn(update, \"symbol\")\n                    ? update.symbol\n                    : undefined,\n                treasuryAccountId:\n                    update.treasury != null\n                        ? AccountId._fromProtobuf(update.treasury)\n                        : undefined,\n                adminKey:\n                    update.adminKey != null\n                        ? Key._fromProtobufKey(update.adminKey)\n                        : undefined,\n                kycKey:\n                    update.kycKey != null\n                        ? Key._fromProtobufKey(update.kycKey)\n                        : undefined,\n                freezeKey:\n                    update.freezeKey != null\n                        ? Key._fromProtobufKey(update.freezeKey)\n                        : undefined,\n                wipeKey:\n                    update.wipeKey != null\n                        ? Key._fromProtobufKey(update.wipeKey)\n                        : undefined,\n                supplyKey:\n                    update.supplyKey != null\n                        ? Key._fromProtobufKey(update.supplyKey)\n                        : undefined,\n                autoRenewAccountId:\n                    update.autoRenewAccount != null\n                        ? AccountId._fromProtobuf(update.autoRenewAccount)\n                        : undefined,\n                expirationTime:\n                    update.expiry != null\n                        ? Timestamp._fromProtobuf(update.expiry)\n                        : undefined,\n                autoRenewPeriod:\n                    update.autoRenewPeriod != null\n                        ? Duration._fromProtobuf(update.autoRenewPeriod)\n                        : undefined,\n                tokenMemo:\n                    update.memo != null\n                        ? Object.hasOwn(update.memo, \"value\")\n                            ? update.memo.value\n                            : undefined\n                        : undefined,\n                feeScheduleKey:\n                    update.feeScheduleKey != null\n                        ? Key._fromProtobufKey(update.feeScheduleKey)\n                        : undefined,\n                pauseKey:\n                    update.pauseKey != null\n                        ? Key._fromProtobufKey(update.pauseKey)\n                        : undefined,\n                metadataKey:\n                    update.metadataKey != null\n                        ? Key._fromProtobufKey(update.metadataKey)\n                        : undefined,\n                metadata:\n                    update.metadata != null\n                        ? Object.hasOwn(update.metadata, \"value\")\n                            ? update.metadata.value\n                            : undefined\n                        : undefined,\n                keyVerificationMode:\n                    update.keyVerificationMode != null\n                        ? TokenKeyValidation._fromCode(\n                              update.keyVerificationMode,\n                          )\n                        : undefined,\n            }),\n            transactions,\n            signedTransactions,\n            transactionIds,\n            nodeIds,\n            bodies,\n        );\n    }\n\n    /**\n     * @returns {?TokenId}\n     */\n    get tokenId() {\n        return this._tokenId;\n    }\n\n    /**\n     * @param {TokenId | string} tokenId\n     * @returns {this}\n     */\n    setTokenId(tokenId) {\n        this._requireNotFrozen();\n        this._tokenId =\n            typeof tokenId === \"string\"\n                ? TokenId.fromString(tokenId)\n                : tokenId.clone();\n\n        return this;\n    }\n\n    /**\n     * @returns {?string}\n     */\n    get tokenName() {\n        return this._tokenName;\n    }\n\n    /**\n     * @param {string} name\n     * @returns {this}\n     */\n    setTokenName(name) {\n        this._requireNotFrozen();\n        this._tokenName = name;\n\n        return this;\n    }\n\n    /**\n     * @returns {?string}\n     */\n    get tokenSymbol() {\n        return this._tokenSymbol;\n    }\n\n    /**\n     * @param {string} symbol\n     * @returns {this}\n     */\n    setTokenSymbol(symbol) {\n        this._requireNotFrozen();\n        this._tokenSymbol = symbol;\n\n        return this;\n    }\n\n    /**\n     * @returns {?AccountId}\n     */\n    get treasuryAccountId() {\n        return this._treasuryAccountId;\n    }\n\n    /**\n     * @param {AccountId | string} id\n     * @returns {this}\n     */\n    setTreasuryAccountId(id) {\n        this._requireNotFrozen();\n        this._treasuryAccountId =\n            typeof id === \"string\" ? AccountId.fromString(id) : id.clone();\n\n        return this;\n    }\n\n    /**\n     * @returns {?Key}\n     */\n    get adminKey() {\n        return this._adminKey;\n    }\n\n    /**\n     * @param {Key} key\n     * @returns {this}\n     */\n    setAdminKey(key) {\n        this._requireNotFrozen();\n        this._adminKey = key;\n\n        return this;\n    }\n\n    /**\n     * @returns {?Key}\n     */\n    get kycKey() {\n        return this._kycKey;\n    }\n\n    /**\n     * @param {Key} key\n     * @returns {this}\n     */\n    setKycKey(key) {\n        this._requireNotFrozen();\n        this._kycKey = key;\n\n        return this;\n    }\n\n    /**\n     * @returns {?Key}\n     */\n    get freezeKey() {\n        return this._freezeKey;\n    }\n\n    /**\n     * @param {Key} key\n     * @returns {this}\n     */\n    setFreezeKey(key) {\n        this._requireNotFrozen();\n        this._freezeKey = key;\n\n        return this;\n    }\n\n    /**\n     * @returns {?Key}\n     */\n    get wipeKey() {\n        return this._wipeKey;\n    }\n\n    /**\n     * @param {Key} key\n     * @returns {this}\n     */\n    setWipeKey(key) {\n        this._requireNotFrozen();\n        this._wipeKey = key;\n\n        return this;\n    }\n\n    /**\n     * @returns {?Key}\n     */\n    get supplyKey() {\n        return this._supplyKey;\n    }\n\n    /**\n     * @param {Key} key\n     * @returns {this}\n     */\n    setSupplyKey(key) {\n        this._requireNotFrozen();\n        this._supplyKey = key;\n\n        return this;\n    }\n\n    /**\n     * @deprecated\n     * @param {Key} key\n     * @returns {this}\n     */\n    setsupplyKey(key) {\n        this._requireNotFrozen();\n        this._supplyKey = key;\n\n        return this;\n    }\n\n    /**\n     * @returns {?Timestamp}\n     */\n    get expirationTime() {\n        return this._expirationTime;\n    }\n\n    /**\n     * @param {Timestamp | Date} time\n     * @returns {this}\n     */\n    setExpirationTime(time) {\n        this._requireNotFrozen();\n        this._expirationTime =\n            time instanceof Timestamp ? time : Timestamp.fromDate(time);\n\n        return this;\n    }\n\n    /**\n     * @returns {?AccountId}\n     */\n    get autoRenewAccountId() {\n        return this._autoRenewAccountId;\n    }\n\n    /**\n     * @param {AccountId | string} id\n     * @returns {this}\n     */\n    setAutoRenewAccountId(id) {\n        this._requireNotFrozen();\n        this._autoRenewAccountId =\n            id instanceof AccountId ? id : AccountId.fromString(id);\n\n        return this;\n    }\n\n    /**\n     * @returns {?Duration}\n     */\n    get autoRenewPeriod() {\n        return this._autoRenewPeriod;\n    }\n\n    /**\n     * Set the auto renew period for this token.\n     *\n     * @param {Duration | Long | number} autoRenewPeriod\n     * @returns {this}\n     */\n    setAutoRenewPeriod(autoRenewPeriod) {\n        this._requireNotFrozen();\n        this._autoRenewPeriod =\n            autoRenewPeriod instanceof Duration\n                ? autoRenewPeriod\n                : new Duration(autoRenewPeriod);\n\n        return this;\n    }\n\n    /**\n     * @returns {?string}\n     */\n    get tokenMemo() {\n        return this._tokenMemo;\n    }\n\n    /**\n     * @param {string} tokenMemo\n     * @returns {this}\n     */\n    setTokenMemo(tokenMemo) {\n        this._requireNotFrozen();\n        this._tokenMemo = tokenMemo;\n\n        return this;\n    }\n\n    /**\n     * @returns {?Key}\n     */\n    get feeScheduleKey() {\n        return this._feeScheduleKey;\n    }\n\n    /**\n     * @param {Key} feeScheduleKey\n     * @returns {this}\n     */\n    setFeeScheduleKey(feeScheduleKey) {\n        this._requireNotFrozen();\n        this._feeScheduleKey = feeScheduleKey;\n\n        return this;\n    }\n\n    /**\n     * @returns {?Key}\n     */\n    get pauseKey() {\n        return this._pauseKey;\n    }\n\n    /**\n     * @param {Key} pauseKey\n     * @returns {this}\n     */\n    setPauseKey(pauseKey) {\n        this._requireNotFrozen();\n        this._pauseKey = pauseKey;\n        return this;\n    }\n\n    /**\n     * @returns {?Key}\n     */\n    get metadataKey() {\n        return this._metadataKey;\n    }\n\n    /**\n     * @param {Key} metadataKey\n     * @returns {this}\n     */\n    setMetadataKey(metadataKey) {\n        this._requireNotFrozen();\n        this._metadataKey = metadataKey;\n\n        return this;\n    }\n\n    /**\n     * @returns {?Uint8Array}\n     */\n    get metadata() {\n        return this._metadata;\n    }\n\n    /**\n     * @param {Uint8Array} metadata\n     * @returns {this}\n     */\n    setMetadata(metadata) {\n        this._requireNotFrozen();\n        this._metadata = metadata;\n\n        return this;\n    }\n\n    /**\n     * @returns {?TokenKeyValidation}\n     */\n    get keyVerificationMode() {\n        return this._keyVerificationMode;\n    }\n\n    /**\n     * @param {TokenKeyValidation} keyVerificationMode\n     * @returns {this}\n     */\n    setKeyVerificationMode(keyVerificationMode) {\n        this._requireNotFrozen();\n        this._keyVerificationMode = keyVerificationMode;\n\n        return this;\n    }\n\n    /**\n     * @returns {this}\n     */\n    clearTokenMemo() {\n        this._requireNotFrozen();\n        this._tokenMemo = null;\n\n        return this;\n    }\n\n    /**\n     * @param {Client} client\n     */\n    _validateChecksums(client) {\n        if (this._tokenId != null) {\n            this._tokenId.validateChecksum(client);\n        }\n\n        if (this._treasuryAccountId != null) {\n            this._treasuryAccountId.validateChecksum(client);\n        }\n\n        if (this._autoRenewAccountId != null) {\n            this._autoRenewAccountId.validateChecksum(client);\n        }\n    }\n\n    /**\n     * @override\n     * @internal\n     * @param {Channel} channel\n     * @param {HieroProto.proto.ITransaction} request\n     * @returns {Promise<HieroProto.proto.ITransactionResponse>}\n     */\n    _execute(channel, request) {\n        return channel.token.updateToken(request);\n    }\n\n    /**\n     * @override\n     * @protected\n     * @returns {NonNullable<HieroProto.proto.TransactionBody[\"data\"]>}\n     */\n    _getTransactionDataCase() {\n        return \"tokenUpdate\";\n    }\n\n    /**\n     * @override\n     * @protected\n     * @returns {HieroProto.proto.ITokenUpdateTransactionBody}\n     */\n    _makeTransactionData() {\n        return {\n            token: this._tokenId != null ? this._tokenId._toProtobuf() : null,\n            name: this.tokenName != null ? this.tokenName : null,\n            symbol: this.tokenSymbol,\n            treasury:\n                this._treasuryAccountId != null\n                    ? this._treasuryAccountId._toProtobuf()\n                    : null,\n            adminKey:\n                this._adminKey != null ? this._adminKey._toProtobufKey() : null,\n            kycKey: this._kycKey != null ? this._kycKey._toProtobufKey() : null,\n            freezeKey:\n                this._freezeKey != null\n                    ? this._freezeKey._toProtobufKey()\n                    : null,\n            pauseKey:\n                this._pauseKey != null ? this._pauseKey._toProtobufKey() : null,\n            wipeKey:\n                this._wipeKey != null ? this._wipeKey._toProtobufKey() : null,\n            supplyKey:\n                this._supplyKey != null\n                    ? this._supplyKey._toProtobufKey()\n                    : null,\n            autoRenewAccount:\n                this._autoRenewAccountId != null\n                    ? this._autoRenewAccountId._toProtobuf()\n                    : null,\n            expiry:\n                this._expirationTime != null\n                    ? this._expirationTime._toProtobuf()\n                    : null,\n            autoRenewPeriod:\n                this._autoRenewPeriod != null\n                    ? this._autoRenewPeriod._toProtobuf()\n                    : null,\n            memo:\n                this._tokenMemo != null\n                    ? {\n                          value: this._tokenMemo,\n                      }\n                    : null,\n            feeScheduleKey:\n                this._feeScheduleKey != null\n                    ? this._feeScheduleKey._toProtobufKey()\n                    : null,\n            metadataKey:\n                this._metadataKey != null\n                    ? this._metadataKey._toProtobufKey()\n                    : null,\n            metadata:\n                this._metadata != null\n                    ? {\n                          value: this._metadata,\n                      }\n                    : null,\n            keyVerificationMode:\n                this._keyVerificationMode != null\n                    ? this._keyVerificationMode._code\n                    : undefined,\n        };\n    }\n\n    /**\n     * @returns {string}\n     */\n    _getLogId() {\n        const timestamp = /** @type {import(\"../Timestamp.js\").default} */ (\n            this._transactionIds.current.validStart\n        );\n        return `TokenUpdateTransaction:${timestamp.toString()}`;\n    }\n}\n\nTRANSACTION_REGISTRY.set(\n    \"tokenUpdate\",\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    TokenUpdateTransaction._fromProtobuf,\n);\n"],"names":["TokenUpdateTransaction","Transaction","constructor","props","super","this","_tokenId","_tokenName","_tokenSymbol","_treasuryAccountId","_adminKey","_kycKey","_freezeKey","_wipeKey","_supplyKey","_autoRenewAccountId","_expirationTime","_autoRenewPeriod","_tokenMemo","_feeScheduleKey","_pauseKey","_metadataKey","_metadata","_keyVerificationMode","TokenKeyValidation","FullValidation","tokenId","setTokenId","tokenName","setTokenName","tokenSymbol","setTokenSymbol","treasuryAccountId","setTreasuryAccountId","adminKey","setAdminKey","kycKey","setKycKey","freezeKey","setFreezeKey","wipeKey","setWipeKey","supplyKey","setSupplyKey","autoRenewAccountId","setAutoRenewAccountId","expirationTime","setExpirationTime","autoRenewPeriod","setAutoRenewPeriod","tokenMemo","setTokenMemo","feeScheduleKey","setFeeScheduleKey","pauseKey","setPauseKey","metadataKey","setMetadataKey","metadata","setMetadata","keyVerificationMode","setKeyVerificationMode","_fromProtobuf","transactions","signedTransactions","transactionIds","nodeIds","bodies","update","_fromProtobufTransactions","token","TokenId","undefined","Object","hasOwn","name","symbol","treasury","AccountId","Key","_fromProtobufKey","autoRenewAccount","expiry","Timestamp","Duration","memo","value","_fromCode","_requireNotFrozen","fromString","clone","id","key","setsupplyKey","time","fromDate","clearTokenMemo","_validateChecksums","client","validateChecksum","_execute","channel","request","updateToken","_getTransactionDataCase","_makeTransactionData","_toProtobuf","_toProtobufKey","_code","_getLogId","_transactionIds","current","toString","TRANSACTION_REGISTRY","set"],"mappings":"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"}