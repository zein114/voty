import t from"./TokenId.js";import e,{TRANSACTION_REGISTRY as n}from"../transaction/Transaction.js";import{decode as a}from"../encoding/hex.js";import{convertAmountToLong as o}from"../util.js";class r extends e{constructor(t={}){super(),this._tokenId=null,this._amount=null,this._metadata=[],null!=t.tokenId&&this.setTokenId(t.tokenId),null!=t.amount&&this.setAmount(t.amount),null!=t.metadata&&this.setMetadata(t.metadata)}static _fromProtobuf(n,a,o,s,i){const d=i[0].tokenMint;return e._fromProtobufTransactions(new r({tokenId:null!=d.token?t._fromProtobuf(d.token):void 0,amount:null!=d.amount?d.amount:void 0,metadata:null!=d.metadata?d.metadata:void 0}),n,a,o,s,i)}get tokenId(){return this._tokenId}setTokenId(e){return this._requireNotFrozen(),this._tokenId="string"==typeof e?t.fromString(e):e.clone(),this}get amount(){return this._amount}setAmount(t){return this._requireNotFrozen(),this._amount=o(t),this}_validateChecksums(t){null!=this._tokenId&&this._tokenId.validateChecksum(t)}get metadata(){return this._metadata}addMetadata(t){return this._requireNotFrozen(),"string"==typeof t&&console.warn("Passing a `string` for token metadata is considered a bug, and has been removed. Please provide a `Uint8Array` instead."),this._metadata.push("string"==typeof t?a(t):t),this}setMetadata(t){this._requireNotFrozen();for(const e of t)if("string"==typeof e){console.warn("Passing a `string` for token metadata is considered a bug, and has been removed. Please provide a `Uint8Array` instead.");break}return this._metadata=t.map(t=>"string"==typeof t?a(t):t),this}_execute(t,e){return t.token.mintToken(e)}_getTransactionDataCase(){return"tokenMint"}_makeTransactionData(){return{amount:this._amount,token:null!=this._tokenId?this._tokenId._toProtobuf():null,metadata:this._metadata}}_getLogId(){return`TokenMintTransaction:${this._transactionIds.current.validStart.toString()}`}}n.set("tokenMint",r._fromProtobuf);export{r as default};
//# sourceMappingURL=TokenMintTransaction.js.map
