{"version":3,"file":"NodeAddressBook.js","sources":["../../src/address_book/NodeAddressBook.js"],"sourcesContent":["// SPDX-License-Identifier: Apache-2.0\n\nimport NodeAddress from \"./NodeAddress.js\";\nimport * as HieroProto from \"@hashgraph/proto\";\n\n/**\n * @typedef {import(\"./NodeAddress.js\").NodeAddressJson} NodeAddressJson\n */\n\n/**\n * @typedef {object} NodeAddressBookJson\n * @property {NodeAddressJson[]} nodeAddresses\n */\n\n/**\n * Represents a collection of node addresses in the Hedera network.\n *\n * The NodeAddressBook contains information about the nodes in the Hedera network,\n * including their network addresses, account IDs, and node IDs. This class is used\n * to manage and access the network's node information.\n */\nexport default class NodeAddressBook {\n    /**\n     * @param {object} props\n     * @param {NodeAddress[]} [props.nodeAddresses]\n     */\n    constructor(props = {}) {\n        /**\n         * @type {NodeAddress[]}\n         */\n        this._nodeAddresses = [];\n\n        if (props.nodeAddresses != null) {\n            this.setNodeAddresses(props.nodeAddresses);\n        }\n    }\n\n    /**\n     * @returns {NodeAddress[]}\n     */\n    get nodeAddresses() {\n        return this._nodeAddresses;\n    }\n\n    /**\n     * @param {NodeAddress[]} nodeAddresses\n     * @returns {this}\n     */\n    setNodeAddresses(nodeAddresses) {\n        this._nodeAddresses = nodeAddresses;\n        return this;\n    }\n\n    /**\n     * @param {Uint8Array} bytes\n     * @returns {NodeAddressBook}\n     */\n    static fromBytes(bytes) {\n        return NodeAddressBook._fromProtobuf(\n            HieroProto.proto.NodeAddressBook.decode(bytes),\n        );\n    }\n\n    /**\n     * @internal\n     * @param {HieroProto.proto.INodeAddressBook} nodeAddressBook\n     * @returns {NodeAddressBook}\n     */\n    static _fromProtobuf(nodeAddressBook) {\n        return new NodeAddressBook({\n            nodeAddresses:\n                nodeAddressBook.nodeAddress != null\n                    ? nodeAddressBook.nodeAddress.map((nodeAddress) =>\n                          NodeAddress._fromProtobuf(nodeAddress),\n                      )\n                    : undefined,\n        });\n    }\n\n    /**\n     * @returns {HieroProto.proto.INodeAddressBook}\n     */\n    _toProtobuf() {\n        return {\n            nodeAddress: this._nodeAddresses.map((nodeAddress) =>\n                nodeAddress._toProtobuf(),\n            ),\n        };\n    }\n\n    /**\n     * @returns {string}\n     */\n    toString() {\n        return JSON.stringify(this.toJSON());\n    }\n\n    /**\n     * @returns {NodeAddressBookJson}\n     */\n    toJSON() {\n        return {\n            nodeAddresses: this._nodeAddresses.map((nodeAddress) =>\n                nodeAddress.toJSON(),\n            ),\n        };\n    }\n\n    toBytes() {\n        return HieroProto.proto.NodeAddressBook.encode(\n            this._toProtobuf(),\n        ).finish();\n    }\n}\n"],"names":["NodeAddressBook","constructor","props","this","_nodeAddresses","nodeAddresses","setNodeAddresses","fromBytes","bytes","_fromProtobuf","HieroProto","proto","decode","nodeAddressBook","nodeAddress","map","NodeAddress","undefined","_toProtobuf","toString","JSON","stringify","toJSON","toBytes","encode","finish"],"mappings":"mEAqBe,MAAMA,EAKjB,WAAAC,CAAYC,EAAQ,IAIhBC,KAAKC,eAAiB,GAEK,MAAvBF,EAAMG,eACNF,KAAKG,iBAAiBJ,EAAMG,cAExC,CAKI,iBAAIA,GACA,OAAOF,KAAKC,cACpB,CAMI,gBAAAE,CAAiBD,GAEb,OADAF,KAAKC,eAAiBC,EACfF,IACf,CAMI,gBAAOI,CAAUC,GACb,OAAOR,EAAgBS,cACnBC,EAAWC,MAAMX,gBAAgBY,OAAOJ,GAEpD,CAOI,oBAAOC,CAAcI,GACjB,OAAO,IAAIb,EAAgB,CACvBK,cACmC,MAA/BQ,EAAgBC,YACVD,EAAgBC,YAAYC,IAAKD,GAC7BE,EAAYP,cAAcK,SAE9BG,GAEtB,CAKI,WAAAC,GACI,MAAO,CACHJ,YAAaX,KAAKC,eAAeW,IAAKD,GAClCA,EAAYI,eAG5B,CAKI,QAAAC,GACI,OAAOC,KAAKC,UAAUlB,KAAKmB,SACnC,CAKI,MAAAA,GACI,MAAO,CACHjB,cAAeF,KAAKC,eAAeW,IAAKD,GACpCA,EAAYQ,UAG5B,CAEI,OAAAC,GACI,OAAOb,EAAWC,MAAMX,gBAAgBwB,OACpCrB,KAAKe,eACPO,QACV"}