{"version":3,"file":"Endpoint.js","sources":["../../src/address_book/Endpoint.js"],"sourcesContent":["// SPDX-License-Identifier: Apache-2.0\n\nimport IPv4Address from \"./IPv4Address.js\";\n\n/**\n * @namespace proto\n * @typedef {import(\"@hashgraph/proto\").proto.IServiceEndpoint} HieroProto.proto.IServiceEndpoint\n */\n\n/**\n * @typedef {object} EndPointJson\n * @property {string | null} address\n * @property {string | null} port\n */\n\nexport default class EndPoint {\n    /**\n     * @param {object} props\n     * @param {IPv4Address | string} [props.address]\n     * @param {number} [props.port]\n     */\n    constructor(props = {}) {\n        /**\n         * @type {IPv4Address | string | null}\n         */\n        this._address = null;\n\n        if (props.address != null) {\n            this.setAddress(props.address);\n        }\n\n        /**\n         * @type {number | null}\n         */\n        this._port = null;\n\n        if (props.port != null) {\n            this.setPort(props.port);\n        }\n    }\n\n    /**\n     * @returns {?IPv4Address | string}\n     */\n    get address() {\n        return this._address;\n    }\n\n    /**\n     * @param {IPv4Address | string} address\n     * @returns {this}\n     */\n    setAddress(address) {\n        this._address = address;\n        return this;\n    }\n\n    /**\n     * @returns {?number}\n     */\n    get port() {\n        return this._port;\n    }\n\n    /**\n     * @param {number} port\n     * @returns {this}\n     */\n    setPort(port) {\n        this._port = port;\n        return this;\n    }\n\n    /**\n     * @internal\n     * @param {HieroProto.proto.IServiceEndpoint} endpoint\n     * @returns {EndPoint}\n     */\n    static _fromProtobuf(endpoint) {\n        let address;\n\n        if (endpoint.domainName) {\n            address = endpoint.domainName;\n        } else if (endpoint.ipAddressV4) {\n            address = IPv4Address._fromProtobuf(endpoint.ipAddressV4);\n        }\n\n        return new EndPoint({\n            address: address,\n            port: endpoint.port != null ? endpoint.port : undefined,\n        });\n    }\n\n    /**\n     * @returns {HieroProto.proto.IServiceEndpoint}\n     */\n    _toProtobuf() {\n        if (typeof this._address !== \"string\") {\n            return {\n                ipAddressV4:\n                    this._address != null ? this._address._toProtobuf() : null,\n                port: this._port,\n            };\n        }\n\n        return {\n            domainName: this._address,\n            port: this._port,\n        };\n    }\n\n    /**\n     * @param {EndPointJson} json\n     * @returns {EndPoint}\n     */\n    static fromJSON(json) {\n        return new EndPoint({\n            address: json.address || undefined,\n            port: json.port != null ? parseInt(json.port, 10) : undefined,\n        });\n    }\n\n    /**\n     * @returns {string}\n     */\n    toString() {\n        return `${this._address != null ? this._address.toString() : \"\"}:${\n            this._port != null ? this._port.toString() : \"\"\n        }`;\n    }\n\n    /**\n     * @returns {EndPointJson}\n     */\n    toJSON() {\n        return {\n            address: this._address != null ? this._address.toString() : null,\n            port: this._port != null ? this._port.toString() : null,\n        };\n    }\n}\n"],"names":["EndPoint","constructor","props","this","_address","address","setAddress","_port","port","setPort","_fromProtobuf","endpoint","domainName","ipAddressV4","IPv4Address","undefined","_toProtobuf","fromJSON","json","parseInt","toString","toJSON"],"mappings":"gCAee,MAAMA,EAMjB,WAAAC,CAAYC,EAAQ,IAIhBC,KAAKC,SAAW,KAEK,MAAjBF,EAAMG,SACNF,KAAKG,WAAWJ,EAAMG,SAM1BF,KAAKI,MAAQ,KAEK,MAAdL,EAAMM,MACNL,KAAKM,QAAQP,EAAMM,KAE/B,CAKI,WAAIH,GACA,OAAOF,KAAKC,QACpB,CAMI,UAAAE,CAAWD,GAEP,OADAF,KAAKC,SAAWC,EACTF,IACf,CAKI,QAAIK,GACA,OAAOL,KAAKI,KACpB,CAMI,OAAAE,CAAQD,GAEJ,OADAL,KAAKI,MAAQC,EACNL,IACf,CAOI,oBAAOO,CAAcC,GACjB,IAAIN,EAQJ,OANIM,EAASC,WACTP,EAAUM,EAASC,WACZD,EAASE,cAChBR,EAAUS,EAAYJ,cAAcC,EAASE,cAG1C,IAAIb,EAAS,CAChBK,QAASA,EACTG,KAAuB,MAAjBG,EAASH,KAAeG,EAASH,UAAOO,GAE1D,CAKI,WAAAC,GACI,MAA6B,iBAAlBb,KAAKC,SACL,CACHS,YACqB,MAAjBV,KAAKC,SAAmBD,KAAKC,SAASY,cAAgB,KAC1DR,KAAML,KAAKI,OAIZ,CACHK,WAAYT,KAAKC,SACjBI,KAAML,KAAKI,MAEvB,CAMI,eAAOU,CAASC,GACZ,OAAO,IAAIlB,EAAS,CAChBK,QAASa,EAAKb,cAAWU,EACzBP,KAAmB,MAAbU,EAAKV,KAAeW,SAASD,EAAKV,KAAM,SAAMO,GAEhE,CAKI,QAAAK,GACI,MAAO,GAAoB,MAAjBjB,KAAKC,SAAmBD,KAAKC,SAASgB,WAAa,MAC3C,MAAdjB,KAAKI,MAAgBJ,KAAKI,MAAMa,WAAa,IAEzD,CAKI,MAAAC,GACI,MAAO,CACHhB,QAA0B,MAAjBF,KAAKC,SAAmBD,KAAKC,SAASgB,WAAa,KAC5DZ,KAAoB,MAAdL,KAAKI,MAAgBJ,KAAKI,MAAMa,WAAa,KAE/D"}