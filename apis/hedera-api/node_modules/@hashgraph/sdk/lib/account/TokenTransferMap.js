import o from"../token/TokenId.js";import t from"./AccountId.js";import r from"./TokenTransferAccountMap.js";import s from"../ObjectMap.js";import{convertAmountToLong as n}from"../util.js";class f extends s{constructor(){super(t=>o.fromString(t))}__set(o,t,s){const f=o.toString();let e=this._map.get(f);null==e&&(e=new r,this._map.set(f,e),this.__map.set(o,e)),e._set(t,n(s))}static _fromProtobuf(r){const s=new f;for(const n of r){const r=o._fromProtobuf(n.token);for(const o of null!=n.transfers?n.transfers:[]){const n=t._fromProtobuf(o.accountID);s.__set(r,n,o.amount)}}return s}_toProtobuf(){const o=[];for(const[t,r]of this){const s=[];for(const[o,t]of r)s.push({accountID:o._toProtobuf(),amount:t});o.push({token:t._toProtobuf(),transfers:s})}return o}}export{f as default};
//# sourceMappingURL=TokenTransferMap.js.map
